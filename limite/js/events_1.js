!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.events=t():e.events=t()}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInWorker=t.windowSnapshot=t.GlobalThis=t.updateWindowSnapshotWhenInWorker=t.checkWindow=void 0;var o=void 0;t.GlobalThis=o;var i=void 0;t.windowSnapshot=i;var a=!1;t.isInWorker=a,"undefined"!=typeof window?(t.GlobalThis=o=window,t.windowSnapshot=i=window):"undefined"!=typeof self&&(t.GlobalThis=o=self,t.isInWorker=a=!0);t.checkWindow=function(e){return"object"==typeof e&&null!==e&&"window"in e&&e===e.window};t.updateWindowSnapshotWhenInWorker=function(e){return!(!a||!(0,t.checkWindow)(e))&&(t.windowSnapshot=i=e,!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRODUCTION=t.BROWSER_PREFIXS=t.SDK_VERSION=t.KWAI_SESSION_ID=t.EVENT_NAME_FORMAT=t.EVENT_NAME=t.CSP_CONTENT_BLOCKED_KEY=t.PAGE_VIEW_EVENT_NAME=t.UNKNOWN_EVENT=t.PAGE_ID=t.SESSION_ID=t.KWAI_Q=t.KWAI_ANALYTICS_OBJECT=t.KWAI_CALLBACK_SOURCE=t.KWAI_CALLBACK_SESSION_KEY=t.KWAI_PIXEL_ID=t.KWAI_CALLBACK=t.KWAI_TEST_ID=void 0,t.KWAI_TEST_ID="ks_px_test",t.KWAI_CALLBACK="click_id",t.KWAI_PIXEL_ID="pixel_id",t.KWAI_CALLBACK_SESSION_KEY="kwai_adInfo",t.KWAI_CALLBACK_SOURCE="kwai_adInfo_source",t.KWAI_ANALYTICS_OBJECT="KwaiAnalyticsObject",t.KWAI_Q="kwaiq",t.SESSION_ID="sessionId",t.PAGE_ID="pageId",t.UNKNOWN_EVENT="UNKNOWN",t.PAGE_VIEW_EVENT_NAME="pageView",t.CSP_CONTENT_BLOCKED_KEY="_k_cspcb",t.EVENT_NAME={pageView:"EVENT_PAGE_VIEW",pageLeave:"EVENT_PAGE_LEAVE",addPaymentInfo:"EVENT_ADD_PAYMENT_INFO",addToCart:"EVENT_ADD_TO_CART",buttonClick:"EVENT_BUTTON_CLICK",purchase:"EVENT_PURCHASE",contentView:"EVENT_CONTENT_VIEW",download:"EVENT_DOWNLOAD",formSubmit:"EVENT_FORM_SUBMIT",initiatedCheckout:"EVENT_INITIATED_CHECKOUT",contact:"EVENT_CONTACT",placeOrder:"EVENT_PLACE_ORDER",search:"EVENT_SEARCH",completeRegistration:"EVENT_COMPLETE_REGISTRATION",addToWishlist:"EVENT_ADD_TO_WISHLIST",subscribe:"EVENT_SUBSCRIBE",firstDeposit:"EVENT_FIRST_DEPOSIT",creditApproval:"EVENT_CREDIT_APPROVAL",loanApplication:"EVENT_LOAN_APPLICATION",loanCredit:"EVENT_LOAN_CREDIT",loanDisbursal:"EVENT_LOAN_DISBURSAL",creditCardApplication:"EVENT_CREDIT_CARD_APPLICATION",valueProduce:"EVENT_VALUE_PRODUCE",registration24hPurchase:"EVENT_REGISTRATION_24H_PURCHASE",adView:"EVENT_AD_VIEW",adClick:"EVENT_AD_CLICK",keyInappEvent:"EVENT_KEY_INAPP_EVENT",keyInappEvent1:"EVENT_KEY_INAPP_EVENT_1",keyInappEvent2:"EVENT_KEY_INAPP_EVENT_2",keyInappEvent3:"EVENT_KEY_INAPP_EVENT_3",pwaPageView:"EVENT_PWA_PAGE_VIEW",pwaSubscribe:"EVENT_PWA_SUBSCRIBE",pwaInstallClick:"EVENT_PWA_INSTALL_CLICK",pwaInstall:"EVENT_PWA_INSTALL",pwaInstallCancel:"EVENT_PWA_INSTALL_CANCEL",pwaOpen:"EVENT_PWA_OPEN",put:"EVENT_PUT",share:"EVENT_SHARE",withdraw:"EVENT_WITHDRAW"},t.EVENT_NAME_FORMAT={EVENT_PAGE_VIEW:"pageView",EVENT_PAGE_LEAVE:"pageLeave",EVENT_ADD_PAYMENT_INFO:"addPaymentInfo",EVENT_ADD_TO_CART:"addToCart",EVENT_BUTTON_CLICK:"buttonClick",EVENT_PURCHASE:"purchase",EVENT_CONTENT_VIEW:"contentView",EVENT_DOWNLOAD:"download",EVENT_FORM_SUBMIT:"formSubmit",EVENT_INITIATED_CHECKOUT:"initiatedCheckout",EVENT_CONTACT:"contact",EVENT_PLACE_ORDER:"placeOrder",EVENT_SEARCH:"search",EVENT_SERACH:"search",EVENT_COMPLETE_REGISTRATION:"completeRegistration",EVENT_ADD_TO_WISHLIST:"addToWishlist",EVENT_SUBSCRIBE:"subscribe",EVENT_FIRST_DEPOSIT:"firstDeposit",EVENT_CREDIT_APPROVAL:"creditApproval",EVENT_LOAN_APPLICATION:"loanApplication",EVENT_LOAN_CREDIT:"loanCredit",EVENT_LOAN_DISBURSAL:"loanDisbursal",EVENT_CREDIT_CARD_APPLICATION:"creditCardApplication",EVENT_VALUE_PRODUCE:"valueProduce",EVENT_REGISTRATION_24H_PURCHASE:"registration24hPurchase",EVENT_AD_VIEW:"adView",EVENT_AD_CLICK:"adClick",EVENT_KEY_INAPP_EVENT:"keyInappEvent",EVENT_KEY_INAPP_EVENT_1:"keyInappEvent1",EVENT_KEY_INAPP_EVENT_2:"keyInappEvent2",EVENT_KEY_INAPP_EVENT_3:"keyInappEvent3",EVENT_PWA_PAGE_VIEW:"pwaPageView",EVENT_PWA_SUBSCRIBE:"pwaSubscribe",EVENT_PWA_INSTALL_CLICK:"pwaInstallClick",EVENT_PWA_INSTALL:"pwaInstall",EVENT_PWA_INSTALL_CANCEL:"pwaInstallCancel",EVENT_PWA_OPEN:"pwaOpen",EVENT_PUT:"put",EVENT_SHARE:"share",EVENT_WITHDRAW:"withdraw"},t.KWAI_SESSION_ID="kwai_session_id",t.SDK_VERSION="2.10.2",t.BROWSER_PREFIXS=["","webkit","WebKit","moz","Moz","ms","MS","o","O"],t.PRODUCTION=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_VERSION=void 0;var o=n(0),i=n(3),a=n(5);t.EVENT_VERSION="1.1.1";!function(){var e,t,n,r,E,c,_=null===(e=document.currentScript)||void 0===e?void 0:e.src,s=o.GlobalThis,l=(null===(t=null==_?void 0:_.split("lib=")[1])||void 0===t?void 0:t.split("&")[0])||s.KwaiAnalyticsObject,u=null===(n=s[l])||void 0===n?void 0:n._i,p=(null===(r=null==_?void 0:_.split("sdkid=")[1])||void 0===r?void 0:r.split("&")[0])||Object.keys(null!=u?u:{})[0],T="https://s16-11187.ap4r.com/kos/s101/nlav11187/pixel/core/core.js";Promise.race([(E=p,c=a.apiDomainPicker.getApiDomain(),new Promise((function(e,t){if(E&&/^[0-9]{0,18}$/.test(String(E))){var n=new XMLHttpRequest;n.open("POST","".concat(c,"/rest/n/adintl/gray/getGrayInfo"),!0),n.setRequestHeader("content-type","application/json"),n.onload=function(){if(n.status>=200&&n.status<300){var o=JSON.parse(n.response);o.data&&Object.keys(o.data).length>0&&o.data.grayResourceUrl?e(o.data.grayResourceUrl):t("not in gray")}else t(n.statusText)},n.onerror=function(){return t(n.statusText)},n.withCredentials=!0,a.apiDomainPicker.setRequestStartTime(+new Date),n.send(JSON.stringify({type:"pixel_v2",id:E}))}else t("参数错误")}))),new Promise((function(e,t){setTimeout((function(){t("time out")}),1e3)}))]).then((function(e){(0,i.loadScript)({src:e,pixelId:p,keyName:l,backupSrc:T})})).catch((function(e){(0,i.loadScript)({src:"https://s1.kwai.net/kos/s101/nlav11187/pixel/core/core.js",pixelId:p,keyName:l,backupSrc:T})}))}()},function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=void 0;var i=n(0),a=o(n(4));t.loadScript=function(e){var t=e.src,n=e.pixelId,o=e.keyName,r=e.backupSrc,E=i.GlobalThis,c="?sdkid=".concat(n,"&lib=").concat(o),_="".concat(t).concat(c),s=r?"".concat(r).concat(c):"";return new Promise((function(e,t){E&&("DedicatedWorkerGlobalScope"===E.constructor.name||void 0!==E.DedicatedWorkerGlobalScope&&E instanceof E.DedicatedWorkerGlobalScope)?function e(t,n){return new Promise((function(o,i){if("undefined"!=typeof importScripts)try{importScripts(t),o()}catch(t){n&&e(n).then(o).catch(i)}}))}(_,s).then(e).catch(t):(0,a.default)(_,s).then(e).catch(t)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(e,t){return new Promise((function(n,a){var r;if(o.windowSnapshot){var E=o.windowSnapshot.document.createElement("script");E.type="text/javascript",E.async=!0,E.src=e,E.onerror=t?function(){i(t).then(n).catch(a)}:function(){a()},E.onload=function(){n()};var c=o.windowSnapshot.document.getElementsByTagName("script")[0];null===(r=null==c?void 0:c.parentNode)||void 0===r||r.insertBefore(E,c)}else a()}))};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiDomainPicker=void 0;var o=n(6),i=n(1),a={set:function(e,t,n){if(!document||!document.cookie)return!1;var o="",i=[],r="",E=location.host,c=null;if(0!=(n=n||0)){var _=new Date;_.setTime(_.getTime()+1e3*n),r="; expires="+_.toUTCString()}return 1===(E=location.host).split(".").length?document.cookie=e+"="+t+r+"; path=/":((i=E.split(".")).shift(),o="."+i.join("."),document.cookie=e+"="+t+r+"; path=/; domain="+o,null!=(c=a.get(e))&&c==t||(o="."+E,document.cookie=e+"="+t+r+"; path=/; domain="+o,c=a.get(e))),!(null==c||c!=t)},get:function(e){if(!document||!document.cookie)return null;for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},erase:function(e){a.set(e,"",-1)}},r=new function(){var e=this;this.requestStartTime=+new Date,this.getApiDomain=function(){return e.isCspBlocked?"https://api.mythad.com":"https://ads.mythad.com"},this.getBackupDomainApi=function(t){return"https://ads.mythad.com"===e.getApiDomain()?t.replace("https://ads.mythad.com","https://ads.adaether.com"):t.replace("https://api.mythad.com","https://api.adaether.com")},this.setRequestStartTime=function(t){e.requestStartTime=t},this.getCspBlocked=function(){var e=(0,o.getWorkspace)(),t=null==e?void 0:e[i.CSP_CONTENT_BLOCKED_KEY],n=a.get(i.CSP_CONTENT_BLOCKED_KEY);return t||n||""},this.writeCSPBlockStatus=function(t){var n=(0,o.getWorkspace)();n&&(n[i.CSP_CONTENT_BLOCKED_KEY]=t),a.set(i.CSP_CONTENT_BLOCKED_KEY,t,86400),e.isCspBlocked=!0},this.cspBlockInfo=this.getCspBlocked(),this.isCspBlocked=!!this.cspBlockInfo,"undefined"!=typeof document&&document.addEventListener("securitypolicyviolation",(function(t){var n=+new Date-e.requestStartTime;t.blockedURI.includes("https://ads.mythad.com")&&"enforce"===t.disposition&&e.writeCSPBlockStatus("".concat(t.blockedURI.slice(t.blockedURI.lastIndexOf("/")+1),",").concat(n.toString()))}))};t.apiDomainPicker=r},function(e,t,n){"use strict";var o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,i=0,a=t.length;i<a;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPixelOptionsFromWorkspace=t.getPixelIdsFromWorkspace=t.setPixelCacheIfNotInit=t.setWorkSpaceCacheIfNotInit=t.getWorkspace=t.getWorkspaceName=void 0;var i=n(0),a=n(1);t.getWorkspaceName=function(){return"object"==typeof i.GlobalThis&&i.GlobalThis[a.KWAI_ANALYTICS_OBJECT]||a.KWAI_Q};t.getWorkspace=function(){return"object"==typeof i.GlobalThis&&i.GlobalThis[(0,t.getWorkspaceName)()]};t.setWorkSpaceCacheIfNotInit=function(e,n){var i=(0,t.getWorkspace)(),a=i._i;Object.entries(a).forEach((function(t){!0!==t[1]._init&&i.push(o([e],n,!0))}))};t.setPixelCacheIfNotInit=function(e,n,o){var i=(0,t.getWorkspace)()._i,a=i[e]||[];a._init||(a.push(["track",n,o]),i[e]=a)};t.getPixelIdsFromWorkspace=function(){var e=(0,t.getWorkspace)(),n=(null!=e?e:{})._i;return Object.keys(null!=n?n:{})};t.getPixelOptionsFromWorkspace=function(e){var n,o;return null!==(o=null===(n=(0,t.getWorkspace)()._o)||void 0===n?void 0:n[e])&&void 0!==o?o:{}}}])}));